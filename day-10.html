<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>krasov's blog</title>
	<meta name="description" content="">
	<meta name="author" content="krasov">

	<!-- HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="https://ideosyncrasov.github.io/theme/html5.js"></script>
	<![endif]-->

	<!-- Styles -->
	<link href="https://ideosyncrasov.github.io/theme/bootstrap.min.css" rel="stylesheet">
	<link href="https://ideosyncrasov.github.io/theme/local.css" rel="stylesheet">
	<link href="https://ideosyncrasov.github.io/theme/pygments.css" rel="stylesheet">

	<!-- Feeds -->
	<link href="https://ideosyncrasov.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="krasov's blog Atom Feed" />




</head>
<body>
	<div class="topbar">
	  <div class="topbar-inner">
		<div class="container-fluid">
		  <a class="brand" href="https://ideosyncrasov.github.io/">krasov's blog</a>
			<ul class="nav">
					<li class="active"><a href="https://ideosyncrasov.github.io/category/misc.html">misc</a></li>
			</ul>
			<p class="pull-right"><a href="https://ideosyncrasov.github.io/archives.html">[archives]</a> <a href="https://ideosyncrasov.github.io/tags.html">[tags]</a></p>
		</div>
	  </div>
	</div>

	<div class="container-fluid">
	  <div class="sidebar">
		<div class="well">
			<h3>Blogroll</h3>
			<ul>
			</ul>
			<div class="social">
			<h3>Social</h3>
			<ul>
				<li><a href="https://bourbaki.itch.io/">My Itch.io profile</a></li>
			</ul>
			</div>
		</div>
	  </div>
	  <div class="content">
	<div class='article'>
		<div class="page-header"><h1>Day 10</h1></div>
		<div class="well small">Permalink: <a class="more" href="https://ideosyncrasov.github.io/day-10.html">2017-10-22 14:20:00+02:00</a>
by <a class="url fn" href="https://ideosyncrasov.github.io/author/krasov.html">krasov </a>
 in <a href="https://ideosyncrasov.github.io/category/misc.html">misc</a>
tags: <a href="https://ideosyncrasov.github.io/tag/lisp.html">lisp</a> <a href="https://ideosyncrasov.github.io/tag/game-jam.html">game jam</a> </div>
		<div><h1>Last-Minute-Effort</h1>
<p>There are officially 15 hours 38 minutes and 23 seconds left. Not a whole lot,
but let's try anyway.</p>
<p>First thing to do, implement animations/state transitions. As I mentioned
yesterday, I find it generally hard to conceptualize such things (despite or
maybe because of a strong tendency to conceptual thinking). My momentary
solutions is to maintain a list <code>active-animations</code> in my game state, which is
a list of subclasses of an abstract base class <code>animation</code>.
This base class defines three generic methods:</p>
<div class="highlight"><pre><span></span>(defgeneric animate (animation state))
(defgeneric draw (animation state))
(defgeneric post-animation (animation state))
</pre></div>


<p>Here <code>state</code> is a variable holding the game state. The first method is called
in <code>update-world</code> and does some actions depending on the subclass, so there's
one subclass for every kind of animation. The <code>animate</code> method return a boolean
that indicates whether the animation is finished or not. If it is finished it
is removed from <code>active-animations</code> and the method <code>post-animation</code> is called.
Note that the <code>animate</code> method can itself push new animations to the front of
<code>active-animations</code>, so that one animation can trigger another animation.
Finally, <code>draw</code> is called on each rendering step.</p>
<p>In this way I hope to be able to piece together the logic of the game, without
having to write one huge game logic function.</p>
<h1>It Didn't End Well</h1>
<p>I did manage to submit something that <em>looks</em> like a game just five minutes
before the deadline. There is no game play, and it is not a game. Also, because
I was running out of time, I had to adopt a 'whatever-works mentality'. That
produced some truly horrible code. But I don't care. It's very later (or rather
very early). I failed. I don't care. Good night.</p></div>
	</div>
		<footer>
		  <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme based on <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a>.</p>
		  <p>&copy; krasov</p>
		</footer>
	  </div>

	</div>
</body>
</html>