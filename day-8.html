<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>krasov's blog</title>
	<meta name="description" content="">
	<meta name="author" content="krasov">

	<!-- HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="https://ideosyncrasov.github.io/theme/html5.js"></script>
	<![endif]-->

	<!-- Styles -->
	<link href="https://ideosyncrasov.github.io/theme/bootstrap.min.css" rel="stylesheet">
	<link href="https://ideosyncrasov.github.io/theme/local.css" rel="stylesheet">
	<link href="https://ideosyncrasov.github.io/theme/pygments.css" rel="stylesheet">

	<!-- Feeds -->
	<link href="https://ideosyncrasov.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="krasov's blog Atom Feed" />




</head>
<body>
	<div class="topbar">
	  <div class="topbar-inner">
		<div class="container-fluid">
		  <a class="brand" href="https://ideosyncrasov.github.io/">krasov's blog</a>
			<ul class="nav">
					<li class="active"><a href="https://ideosyncrasov.github.io/category/misc.html">misc</a></li>
			</ul>
			<p class="pull-right"><a href="https://ideosyncrasov.github.io/archives.html">[archives]</a> <a href="https://ideosyncrasov.github.io/tags.html">[tags]</a></p>
		</div>
	  </div>
	</div>

	<div class="container-fluid">
	  <div class="sidebar">
		<div class="well">
			<h3>Blogroll</h3>
			<ul>
			</ul>
			<div class="social">
			<h3>Social</h3>
			<ul>
				<li><a href="https://bourbaki.itch.io/">My Itch.io profile</a></li>
			</ul>
			</div>
		</div>
	  </div>
	  <div class="content">
	<div class='article'>
		<div class="page-header"><h1>Day 8</h1></div>
		<div class="well small">Permalink: <a class="more" href="https://ideosyncrasov.github.io/day-8.html">2017-10-20 17:46:00+02:00</a>
by <a class="url fn" href="https://ideosyncrasov.github.io/author/krasov.html">krasov </a>
 in <a href="https://ideosyncrasov.github.io/category/misc.html">misc</a>
tags: <a href="https://ideosyncrasov.github.io/tag/lisp.html">lisp</a> <a href="https://ideosyncrasov.github.io/tag/game-jam.html">game jam</a> </div>
		<div><h1>Putting Yourself Together</h1>
<p>Alrighty. It's still quite early in the day, plenty time to finish that tile
renderer, don't you think? ;-)
All I need is some coffee and a nice soundtrack to get me in the mood:
<em>Halloween III: Season of the Witch</em>. Hell yeah!</p>
<h1>A Good Scare</h1>
<p>It seems like that the package <code>cxml</code> I'm relying on to parse the <code>.tmx</code> files
is incomplete. :-( I guess that's the appropriate punishment for trying to
write a game in LISP. Of course it goes without saying, that <code>cxml</code> barely has
any documentation besides the source code itself. This is really bad.</p>
<p>Okay, it's not actually bad. The functionality I was looking for is actually
implemented (despite some comments within the code saying otherwise), and
I know how to use it now. That was a good scare!</p>
<h1>The Moment of Truth</h1>
<p>Alright, the tile renderer is basically done now. Let's see if it still works
... Of course it doesn't. Will humans ever be able to write correct computer
programs?</p>
<p>About half an hour later, all (of the apparent) bugs seem to have been weeded
out. The "game" looks now just as before, which is a good sign. This deserves
a commit!</p>
<h1>The Torture Never Stops</h1>
<p>Of course there were more bugs. There are always more bugs. At least I learned
some more tidbits of Common Lisp knowledge (for example that make-tash-table
compares keys with <code>eql</code> by default, even if these keys are strings). It also
taught me that seemingly simple things like parsing CSV can be complicated,
given the right circumstances, for example if the file you're reading was
encoded with the Windows convention of using CRLF as an indicator of a line
break, but the package you are using to parse the CSV file just assumes it is
encoded with unix conventions.</p>
<h1>It's Alive!</h1>
<p>Weeding out the remaining bugs took way longer than I thought, but eventually
I managed to complete the tile renderer. There's probably room for
optimizations (I'm not very happy with the performance), but at least I've got
something resembling a game, at least visually. The map I created is renderer
faithfully (except for the "collision" layer which I still need to treat
differently), and the character is rendered in the appropriate layer, so that
it gets obscured when it moves behind a wall etc.</p>
<p>I initially hoped to be able to complete the tile renderer and the map. At
least I achieved one of the two, so I'm quite happy. But now I must go to bed
and not repeat the mistakes of previous nights!</p></div>
	</div>
		<footer>
		  <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme based on <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a>.</p>
		  <p>&copy; krasov</p>
		</footer>
	  </div>

	</div>
</body>
</html>