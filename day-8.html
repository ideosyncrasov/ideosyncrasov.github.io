<!DOCTYPE html>
<head>
  <title>Day 8 - krasov's blog</title>
  <meta charset='utf-8'/>
  <meta content='width=device-width, initial-scale=1' name='viewport'/>
    <meta rel='canonical' href='https://ideosyncrasov.github.io/day-8.html'/>
          <link href='https://ideosyncrasov.github.io/feeds/all.atom.xml' rel='alternate' type='application/atom+xml' title='krasov&#39;s blog Full Atom Feed'>
          <link href='https://ideosyncrasov.github.io/feeds/misc.atom.xml' rel='alternate' type='application/atom+xml' title='krasov&#39;s blog Category misc Atom Feed'>
      <link rel='stylesheet' href='https://ideosyncrasov.github.io/theme/css/main.css'/>
</head>

<body itemscope itemtype='https://schema.org/WebPage' itemref='publisher-name publisher-description'>
  <div id='header'>
    <div class='handle'><span class='dots'></span></div>
    <div class='content'>
      <div itemscope itemtype='https://schema.org/Organization' itemid='https://ideosyncrasov.github.io'>
        <header id='publisher'>
          <h1><a itemprop='url' rel='home' href='https://ideosyncrasov.github.io'><span itemprop='name' id='publisher-name'>krasov&#39;s blog</span></a></h1>
        </header>
      </div>


<nav itemscope itemtype='https://schema.org/SiteNavigationElement'>
  <div class='container'>
    <div class='handle'>(Pages)</div>
    <div class='content'>
        (<span itemprop='name'><a itemprop='url' href='https://ideosyncrasov.github.io/tags.html' >Tags</a></span>)
        (<span itemprop='name'><a itemprop='url' href='https://ideosyncrasov.github.io/authors.html' >Authors</a></span>)
        (<span itemprop='name'><a itemprop='url' href='https://ideosyncrasov.github.io/archives.html' >Archives</a></span>)
    </div>
  </div>

    <div class='container' id='nav-categories-container'>
      <div class='handle'>
        {<span itemprop='name'><a itemprop='url' href='https://ideosyncrasov.github.io/categories.html'>Categories</a></span>}
      </div>
      <div class='content'>
          <span itemprop='name' class='category'><a itemprop='url' href='https://ideosyncrasov.github.io/category/misc.html' class='active'>misc</a></span>
      </div>
    </div>

  <div class='container' id='nav-breadcrumb-container'>
    <div class='handle'>&gt;</div>
    <div class='content'>


<div itemscope itemtype='https://schema.org/BreadcrumbList'>
      <span itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
    <a itemprop='item' href='https://ideosyncrasov.github.io/day-8.html'><span itemprop='name'>Day 8</span></a>
    <meta itemprop='position' content='4'/>
  </span>
  &lt;

      <span itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
    <a itemprop='item' href='https://ideosyncrasov.github.io/category/misc.html'><span itemprop='name'>misc</span></a>
    <meta itemprop='position' content='3'/>
  </span>
  &lt;

      <span itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
    <a itemprop='item' href='https://ideosyncrasov.github.io/categories.html'><span itemprop='name'>Categories</span></a>
    <meta itemprop='position' content='2'/>
  </span>
  &lt;

    <span itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'>
    <meta itemprop='name' content='Home'/>
    <span itemprop='item' itemscope itemtype='https://schema.org/Blog'>
      <meta itemprop='name' content='krasov&#39;s blog'/>
      <a itemprop='url' href='https://ideosyncrasov.github.io'>Home</a>
    </span>
    <meta itemprop='position' content='1'/>
  </span>

</div>

<div itemscope itemtype='https://schema.org/BreadcrumbList'>
      <span itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
    <a itemprop='item' href='https://ideosyncrasov.github.io/day-8.html'><span itemprop='name'>Day 8</span></a>
    <meta itemprop='position' content='5'/>
  </span>
  &lt;


        20
        &lt;
        Oktober
        &lt;
        2017
        &lt;
    <span itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'>
    <meta itemprop='name' content='Home'/>
    <span itemprop='item' itemscope itemtype='https://schema.org/Blog'>
      <meta itemprop='name' content='krasov&#39;s blog'/>
      <a itemprop='url' href='https://ideosyncrasov.github.io'>Home</a>
    </span>
    <meta itemprop='position' content='1'/>
  </span>

</div>    </div>
  </div>
</nav>    </div>
  </div>

  <main>

    <article itemprop='mainEntity' itemscope itemtype='https://schema.org/BlogPosting'>
    <meta itemprop='headline' content='Day 8'/>
    <link itemprop='publisher' itemscope itemtype='https://schema.org/Organization' itemref='publisher' href='https://ideosyncrasov.github.io'/>
    <link itemprop='mainEntityOfPage' href='https://ideosyncrasov.github.io/day-8.html'/>
    <meta itemprop='inLanguage' content='en'/>
      <meta itemprop='wordCount' content='443'/>


    <header>
      <h2 itemprop='name'><a href='https://ideosyncrasov.github.io/day-8.html'>Day 8</a></h2>
      <p>
        <time itemprop='datePublished' datetime='2017-10-20 17:46:00+02:00' title='2017-10-20 17:46:00+02:00'>Fr 20 Oktober 2017</time>
          *
          <time itemprop='dateModified' datetime='2017-10-21 00:28:00+02:00' title='2017-10-21 00:28:00+02:00'>Sa 21 Oktober 2017</time>
      </p>
      <p class='author-cat-tag'>
            <span itemprop='author' itemscope itemtype='https://schema.org/Person' class='author'>
    <span itemprop='name' class='name'><a itemprop='url' rel='author' href='https://ideosyncrasov.github.io/author/krasov.html'>krasov</a></span>
  </span>


          <span itemprop="articleSection" class='category'><a href='https://ideosyncrasov.github.io/category/misc.html'>misc</a></span>


            <span itemprop="keywords" class='tag'><a href='https://ideosyncrasov.github.io/tag/lisp.html'>lisp</a></span>

            <span itemprop="keywords" class='tag'><a href='https://ideosyncrasov.github.io/tag/game-jam.html'>game jam</a></span>

      </p>
    </header>

      <meta itemprop='description' content='Trying anyway.'>
      <div>
        <h1>Putting Yourself Together</h1>
<p>Alrighty. It's still quite early in the day, plenty time to finish that tile
renderer, don't you think? ;-)
All I need is some coffee and a nice soundtrack to get me in the mood:
<em>Halloween III: Season of the Witch</em>. Hell yeah!</p>
<h1>A Good Scare</h1>
<p>It seems like that the package <code>cxml</code> I'm relying on to parse the <code>.tmx</code> files
is incomplete. :-( I guess that's the appropriate punishment for trying to
write a game in LISP. Of course it goes without saying, that <code>cxml</code> barely has
any documentation besides the source code itself. This is really bad.</p>
<p>Okay, it's not actually bad. The functionality I was looking for is actually
implemented (despite some comments within the code saying otherwise), and
I know how to use it now. That was a good scare!</p>
<h1>The Moment of Truth</h1>
<p>Alright, the tile renderer is basically done now. Let's see if it still works
... Of course it doesn't. Will humans ever be able to write correct computer
programs?</p>
<p>About half an hour later, all (of the apparent) bugs seem to have been weeded
out. The "game" looks now just as before, which is a good sign. This deserves
a commit!</p>
<h1>The Torture Never Stops</h1>
<p>Of course there were more bugs. There are always more bugs. At least I learned
some more tidbits of Common Lisp knowledge (for example that make-tash-table
compares keys with <code>eql</code> by default, even if these keys are strings). It also
taught me that seemingly simple things like parsing CSV can be complicated,
given the right circumstances, for example if the file you're reading was
encoded with the Windows convention of using CRLF as an indicator of a line
break, but the package you are using to parse the CSV file just assumes it is
encoded with unix conventions.</p>
<h1>It's Alive!</h1>
<p>Weeding out the remaining bugs took way longer than I thought, but eventually
I managed to complete the tile renderer. There's probably room for
optimizations (I'm not very happy with the performance), but at least I've got
something resembling a game, at least visually. The map I created is renderer
faithfully (except for the "collision" layer which I still need to treat
differently), and the character is rendered in the appropriate layer, so that
it gets obscured when it moves behind a wall etc.</p>
<p>I initially hoped to be able to complete the tile renderer and the map. At
least I achieved one of the two, so I'm quite happy. But now I must go to bed
and not repeat the mistakes of previous nights!</p>
      </div>
  </article>

  </main>


  <footer>
<!-- Proudly powered by Pelican which takes great advantage of Python, with Apricot theme (v0.1.0) by Yu-Jie Lin. -->

  </footer>
</body>